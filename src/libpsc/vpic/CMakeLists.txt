
add_library(pscvpic
  psc_fields_vpic.cxx
  psc_particles_vpic.cxx
  psc_vpic_bits.cxx
  vpic_base.cxx
  )

target_include_directories(pscvpic
  PRIVATE
    ${PROJECT_SOURCE_DIR}/src/include
    ${PROJECT_SOURCE_DIR}/src/libpsc/vpic
  )
target_link_libraries(pscvpic
  mrc
  )

if (USE_VPIC)
target_link_libraries(pscvpic
  VPIC::VPIC
  )
endif()

if (ADIOS2_FOUND)
  target_link_libraries(pscvpic adios2::adios2)
endif()

target_compile_features(pscvpic
  PUBLIC cxx_std_11
  )

